<div class="container">
  <div class="leftBox"></div>

  <div class="rightbox">
    <form [formGroup]="formRegister" (ngSubmit)="onSubmit()" class="formBoite">
      <h2 translate style="text-align: center" id="titleCreate">register.createAccount</h2>
      <div class="row">
        <div class="formInputContainer">
          <div>
          <label for="firstName">{{'register.firstName' | translate}}</label>
          <span style="color: red;"> *</span></div>
          <input
            class="formInput"
            id="firstName"
            type="text"
            placeholder="Hugo"
            formControlName="firstName"
          />
          <mat-error
            *ngIf="
              formRegister.get('firstName')?.hasError('required') &&
              formRegister.get('firstName')?.touched
            "
          >
          {{'register.requiredField' | translate}}
          </mat-error>
          <mat-error
            *ngIf="
              formRegister.get('firstName')?.hasError('minlength') &&
              formRegister.get('firstName')?.touched
            "
          >
          {{'register.firsName2car' | translate}}
          </mat-error>
          <mat-error
            *ngIf="
              formRegister.get('firstName')?.hasError('maxlength') &&
              formRegister.get('firstName')?.touched
            "
          >
          {{'register.firstName40car' | translate}}
          </mat-error>
        </div>

        <div class="formInputContainer">
    

          <div>
            <label for="lastName">{{'register.lastName' | translate}}</label>
            <span style="color: red;"> *</span></div>

          <input
            class="formInput"
            id="lastName"
            type="text"
            placeholder="Otth"
            formControlName="lastName"
          />



          
          <mat-error
            *ngIf="
              formRegister.get('lastName')?.hasError('required') &&
              formRegister.get('lastName')?.touched
            "
          >
            {{'register.requiredField' | translate}}
          </mat-error>

          <mat-error
            *ngIf="
              formRegister.get('lastName')?.hasError('minlength') &&
              formRegister.get('lastName')?.touched
            "
          >
           {{'register.lastName2car' | translate}}
          </mat-error>
          <mat-error
            *ngIf="
              formRegister.get('lastName')?.hasError('maxlength') &&
              formRegister.get('lastName')?.touched
            "
          >
           {{'register.lastName40car' | translate}}
          </mat-error>
        </div>

        <div class="formInputContainer">

          <div>
          <label for="adresse">{{'register.address' | translate}} </label>
          </div>
          
          <input
            placeholder="123 Bader St"
            class="formInput"
            id="adresse"
            type="text"
            formControlName="adresse"
          />



        </div>

        <div class="formInputContainer">
        

          
          <div>
            <label for="postalCode">{{'register.postalCode' | translate}} </label>
            <span style="color: red;"> *</span></div>


          <input
            class="formInput"
            id="postalCode"
            placeholder="H3N1F5"
            type="text"
            formControlName="postalCode"
            maxlength="6"
            onkeypress="return event.charCode != 32"
          />
          <mat-error
            *ngIf="
              formRegister.get('postalCode')?.hasError('required') &&
              formRegister.get('postalCode')?.touched
            "
            >{{'register.requiredField' | translate}}</mat-error
          >
          <mat-error
            *ngIf="
              formRegister.get('postalCode')?.hasError('pattern') &&
              formRegister.get('postalCode')?.touched
            "
            >{{'register.invalidPostalCode' | translate}}
          </mat-error>
        </div>
      </div>
      <div class="row">
        <div class="formInputContainer">
       

          <div>
            <label for="email">{{'register.email' | translate}}</label>
            <span style="color: red;"> *</span></div>

          <input
            class="formInput"
            id="email"
            type="email"
            formControlName="email"
            placeholder="example@email.com"
          />
          <mat-error
            *ngIf="
              formRegister.get('email')?.hasError('required') &&
              formRegister.get('email')?.touched
            "
          >
          {{'register.requiredField' | translate}}</mat-error
          >
          <mat-error
            *ngIf="
              formRegister.get('email')?.hasError('pattern') &&
              formRegister.get('email')?.touched
            "
          >
          {{'register.invalidEmail' | translate}}
          </mat-error>
        </div>
        <div class="formInputContainer">
          

          <div>
            <label for="dateOfBirth">{{'register.dateOfBirth' | translate}}</label>

            </div>

          <input
            type="date"
            class="formInput"
            id="date"
            formControlName="dateOfBirth"
            placeholder="2024-02-03"
            max="{{this.date}}"
            (keydown)="false"
            (paste)="false"
          />

          <mat-error
            *ngIf="
              formRegister.get('dateOfBirth')?.hasError('required') &&
              formRegister.get('dateOfBirth')?.touched
            "
          >
          {{'register.requiredField' | translate}}</mat-error
          >

          <mat-error
            *ngIf="
              formRegister.get('dateOfBirth')?.hasError('pastDate') &&
              formRegister.get('dateOfBirth')?.touched
            "
          >
          {{'register.invalidDate' | translate}}</mat-error
          >

          <mat-error
            *ngIf="
              formRegister.get('dateOfBirth')?.hasError('futureDate') &&
              formRegister.get('dateOfBirth')?.touched
            "
          >
          {{'register.requiredField' | translate}}</mat-error
          >
        </div>
      </div>
      <div class="row">
        <div class="formInputContainer">

          <div>
            <label for="password">{{'register.password' | translate}}</label>

            <span style="color: red;"> *</span></div>

          <input
            class="formInput"
            id="password"
            type="password"
            placeholder="***********"
            formControlName="password"
          />
          <mat-error
            *ngIf="
              formRegister.get('password')?.hasError('required') &&
              formRegister.get('password')?.touched
            "
          >
          {{'register.requiredField' | translate}}</mat-error
          >

          <p class="passwordError"
            *ngIf="
              formRegister.get('password')?.hasError('pattern') ||
              (formRegister.get('password')?.hasError('minlength') &&
                formRegister.get('password')?.touched)
            "
          >
          {{'register.password6car' | translate}}
          </p>

          <mat-error
            *ngIf="
              formRegister.get('password')?.hasError('maxlength') &&
              !formRegister.get('password')?.hasError('pattern') &&
              formRegister.get('password')?.touched
            "
          >
          {{'register.password100car' | translate}}
          </mat-error>
        </div>
      </div>
      <div class="row">
        <div class="formInputContainer">


          <div>
            <label for="confirmedPassword">{{'register.confirmPassword' | translate}}</label>

            <span style="color: red;"> *</span></div>

          <input
            class="formInput"
            id="confirmedPassword"
            type="password"
            placeholder="***********"
            formControlName="confirmedPassword"
          />
          <mat-error
            *ngIf="
              formRegister.get('confirmedPassword')?.hasError('required') &&
              formRegister.get('confirmedPassword')?.touched
            "
          >
          {{'register.requiredField' | translate}}</mat-error>
          <p class="passwordError"
            *ngIf="!formRegister.get('confirmedPassword')?.hasError('required') && formRegister.errors?.['passwordMismatch'] && formRegister.get('confirmedPassword')?.touched "
          >
          {{'register.passwordMatching' | translate}}</p
          >
        </div>
      </div>

      <!-- Translates the error message from the server -->
      <p translate style="color: red; text-align: center;">{{this.requestResponseFormat}}</p> 
  

      <div class="row flex-center">
        <div class="content">
          <button
            type="submit"
            [disabled]="formRegister.invalid || isWaiting  "
            class="submitBtn"
          >
          {{'register.createAccount' | translate}}
          </button>

          <p id="textSignIn">{{'register.alreadyAnAccount' | translate}} <a routerLink="/signin" id="textLogIn">{{'register.login' | translate}}</a></p>
        </div>
      </div>

      <!-- <pre>form value : {{ formRegister.value | json }}</pre>
      <pre>form status : {{ formRegister.status }}</pre>
      <pre>form errors: {{ formRegister.errors | json }}</pre> -->
    </form>
  </div>
</div>